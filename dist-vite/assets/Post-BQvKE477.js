import{j as r}from"./index-uLl4F_Hm.js";import{d as u,r as g}from"./react-vendor-Bx3nAkti.js";import{r as p}from"./devocional-D65XkcD0.js";import{r as f}from"./mensagem-pastoral-BB9-BSbc.js";import h from"./oracao-B84rJvA7.js";import{d as x,g as b}from"./firebase-core-3RcgupBU.js";import{d as y}from"./config-BZzbv8tb.js";const j=Object.assign({"../content/home/devocional.md":p,"../content/home/mensagem-pastoral.md":f,"../content/home/oracao.md":h});function v(e){if(!e||typeof e!="string")return{data:{},content:""};const t=e.trimStart();if(!t.startsWith("---"))return{data:{},content:e};const n=t.indexOf(`
---`,3);if(n===-1)return{data:{},content:e};const a=t.slice(3,n).trim(),i=t.slice(n+4).trim(),o={};return a.split(`
`).forEach(c=>{const s=c.indexOf(":");if(s===-1)return;const m=c.slice(0,s).trim();let l=c.slice(s+1).trim();l=l.replace(/^"|"$/g,""),o[m]=l}),{data:o,content:i}}function w(e){if(!e)return"";let t=e;return t=t.replace(/^### (.*)$/gm,"<h3>$1</h3>"),t=t.replace(/^## (.*)$/gm,"<h2>$1</h2>"),t=t.replace(/^# (.*)$/gm,"<h1>$1</h1>"),t=t.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),t=t.replace(/\*(.+?)\*/g,"<em>$1</em>"),t=t.replace(/(?:\r?\n){2,}/g,"</p><p>"),t="<p>"+t+"</p>",t}async function E(e){try{const t=[];for(const[n,a]of Object.entries(j)){const{data:i,content:o}=v(a);if(i.slug&&t.push(i.slug),i.slug===e)return{...i,content:o,fullContent:w(o),path:n}}return console.warn("Slug não encontrado:",e,"— Slugs existentes:",t),null}catch(t){return console.error("❌ ERRO em loadSinglePost():",t),null}}function _(){const{slug:e}=u(),[t,n]=g.useState(null);if(g.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"}),setTimeout(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},80)},[e]),g.useEffect(()=>{let o=!0;async function c(){const s=await E(e);if(s){o&&n(s);return}try{const m=x(y,"publicacoes",e),l=await b(m);if(l.exists()&&o){const d=l.data();n({...d,titulo:d.titulo||"(sem título)",fullContent:d.texto||"",imageUrl:d.imageUrl||null});return}}catch(m){console.error("Erro ao carregar do Firebase:",m)}o&&n(null)}return c(),()=>o=!1},[e]),!t)return r.jsx("div",{className:"min-h-[60vh] flex items-center justify-center text-gray-400 text-xl italic",children:"Postagem não encontrada."});const a=t.imageUrl||t.imagem||null,i=t.fullContent||t.texto||"";return r.jsxs("main",{className:"post-page-main",style:{minHeight:"100vh",backgroundColor:"#010b0a",color:"#EDEDED"},children:[r.jsx("section",{style:{position:"relative",width:"100%",height:"60vh",maxHeight:"520px",minHeight:"420px",overflow:"hidden"},children:a&&r.jsxs(r.Fragment,{children:[r.jsx("img",{src:a,alt:t.titulo,style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}}),r.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 40%, rgba(0,0,0,0.55) 100%)"}})]})}),r.jsxs("section",{style:{width:"100%",maxWidth:"880px",margin:"0 auto",padding:"3rem 2rem 1.5rem",textAlign:"center"},children:[r.jsx("h1",{style:{fontFamily:"'Playfair Display', serif",fontSize:"clamp(1.75rem, 5vw, 2.75rem)",fontWeight:600,color:"#F5E3A1"},children:t.titulo}),r.jsxs("p",{style:{color:"#A8A8A8",marginTop:"0.5rem",marginBottom:"1.25rem"},children:[t.data||""," • ",t.readTime||""]}),t.tag&&r.jsx("span",{style:{display:"inline-block",padding:"0.35rem 1rem",border:"1px solid rgba(212, 175, 55, 0.4)",borderRadius:"9999px",fontSize:"0.65rem",color:"#D4AF37"},children:t.tag})]}),r.jsx("article",{style:{width:"100%",maxWidth:"880px",margin:"0 auto",padding:"2.5rem 2rem 4.5rem"},children:r.jsx("div",{style:{backgroundColor:"rgba(0, 0, 0, 0.32)",border:"1px solid rgba(212, 175, 55, 0.18)",borderRadius:"0.875rem",padding:"clamp(2rem, 5vw, 3rem)"},children:r.jsx("div",{style:{color:"#E2E2E2",fontSize:"1.08rem",lineHeight:1.8,textAlign:"justify"},dangerouslySetInnerHTML:{__html:i}})})})]})}export{_ as default};
//# sourceMappingURL=Post-BQvKE477.js.map
